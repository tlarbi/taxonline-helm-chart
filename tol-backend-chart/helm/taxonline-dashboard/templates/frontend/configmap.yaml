{{- if .Values.frontend.enabled }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "taxonline.frontend.fullname" . }}-config
  namespace: {{ .Values.global.namespace }}
  labels:
    {{- include "taxonline.frontend.labels" . | nindent 4 }}
data:
  config.js: |
    // Runtime config - injected at pod startup (no rebuild needed)
    window.__TAXONLINE_CONFIG__ = {
      apiUrl: "{{ .Values.frontend.config.apiUrl }}",
      wsUrl: "{{ .Values.frontend.config.wsUrl }}",
      appTitle: "{{ .Values.frontend.config.appTitle }}",
      appVersion: "{{ .Values.frontend.config.appVersion }}",
      environment: "{{ .Values.global.environment }}"
    };
{{- end }}
